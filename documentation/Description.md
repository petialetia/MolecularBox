# Полное описание "Коробки с молекулами"

## Идея:

Есть некое ограниченное тело, внутри которого перемещаются и взаимодействуют друг с другом молекулы. Природа взаимодействий, потенциально, любая: механические столкновения, передача тепла, быть может даже "химическая", когда одни молекулы при столкновении с другими порождают новые. Соответственно, необходимо просчитывать и отрисовывать положения молекул.

## Планируется реализация двух способов просчёта: 

### 1) Пошаговый:

В начале проверяются все взаимодействия, не должны ли они случится, которые должны - случаются, после чего время отматывается на некоторый шаг вперёд, вновь проверяются все взаимодействия, делаются все случившиеся, время мотается вперёд и т.д.

### 2) Предсказывающий:

Взаимодействия молекул предсказываются и обрабатываются только тогда, когда они точно произошли, после обработки перепредсказываются взаимодействия лишь для только что уже провзаимодействовавших молекул. По сравнению с пошаговым методом имеет ряд преимуществ и недостатков.

#### Минусы предсказывающего подхода: 

а) Такой способ валидный только для непостоянных взаимодействий, скажем, обработать таким способом гравитационные взаимодействия не получится (сталкиваемся с фундаментальной проблемой физики, известной как проблема трёх тел).

б) Требует хранить время, через которое произойдёт каждое событие, а также быстро искать среди них минимальное значение.

#### Плюсы предсказывающего подхода:

а) Значительно уменьшает количество проверок на событие при не очень частом их возникновении.

б) Точность - поскольку взаимодействие будет обработано сразу как только оно возникнет, не случится, к примеру, проникновения двух объектов друг в друга, когда они должны абсолютно упруго отскакивать.

Поскольку не все взаимодействия можно просчитать вторым методом, предсказываемые события наследуются от обычных. 

При проектировании применён паттерн "наблюдатель", здесь в качестве получателей выступают молекулы, а в качестве издателей - взаимодействия. Взаимодействия сами могут узнать, произошли они или нет, и при этом сами делают действия над молекулами ("уведомляя" их таким образом о случившемся событии).
